#include "PreCompile.h"
#include "PlayGameMode.h"
#include "TitleGameMode.h"
#include "TitleLogo.h"
#include "PlayMap.h"

#include "Rusty.h"
#include "House.h"

#include <EnginePlatform/EngineInput.h>


APlayGameMode::APlayGameMode()
{
}

APlayGameMode::~APlayGameMode()
{
}

void APlayGameMode::BeginPlay()
{
	Super::BeginPlay();

	ARusty* Rusty = AActor::GetWorld()->GetPawn<ARusty>();

	AHouse* House = AActor::GetWorld()->SpawnActor<AHouse>();

	{
		//TitleLogo* NewActor = AActor::GetWorld()->SpawnActor<TitleLogo>();
	}

	{
		APlayMap* NewActor = AActor::GetWorld()->SpawnActor<APlayMap>();
	}
}

void APlayGameMode::Tick(float _DeltaTime)
{
	Super::Tick(_DeltaTime);

	if (true == UEngineInput::GetInst().IsDown('B'))
	{
		//SetActiveSwitch();
	}

}



#include "PreCompile.h"
#include "TileMapGameMode.h"
#include <EngineCore/Level.h>
#include <EnginePlatform/EngineInput.h>
#include <EngineCore/EngineAPICore.h>
#include <EngineBase/EngineFile.h>
#include <EngineBase/EngineDirectory.h>
#include <EngineBase/EngineRandom.h>

ATileMapGameMode::ATileMapGameMode()
{
}

ATileMapGameMode::~ATileMapGameMode()
{
}

void ATileMapGameMode::BeginPlay()
{
	Super::BeginPlay();

	{
		GroundTileMap = GetWorld()->SpawnActor<ATileMap>();
	}

	{
		WallTileMap = GetWorld()->SpawnActor<ATileMap>();
		WallTileMap->Create("TileSet", { 48, 8 }, { 48, 40 });

		for (int y = 0; y < 40; y++)
		{
			for (int x = 0; x < 40; x++)
			{
				WallTileMap->SetTileIndex({ y,x }, { 0, -6 }, {48, 40}, 1);
			}
		}
	}
}